<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>家庭共享点餐系统</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        .menu-section, .orders-section {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f0f0;
            color: #444;
        }
        
        .user-selection {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .user-btn {
            padding: 0.5rem 1rem;
            background: #f0f0f0;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .user-btn.active {
            background: #6a11cb;
            color: white;
        }
        
        .add-user-form {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .add-user-input {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            flex: 1;
        }
        
        .add-user-btn {
            padding: 0.5rem 1rem;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .menu-category {
            margin-bottom: 1.5rem;
        }
        
        .category-title {
            font-size: 1.2rem;
            margin-bottom: 0.8rem;
            color: #6a11cb;
        }
        
        .menu-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .menu-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border: 1px solid #e9ecef;
        }
        
        .menu-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .item-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .item-price {
            color: #6a11cb;
            font-weight: bold;
        }
        
        .order-btn {
            margin-top: 0.8rem;
            padding: 0.5rem 1rem;
            background: #6a11cb;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            transition: background 0.3s;
        }
        
        .order-btn:hover {
            background: #5a0db3;
        }
        
        .orders-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .order-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid #6a11cb;
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .order-user {
            font-weight: bold;
            color: #6a11cb;
        }
        
        .order-time {
            color: #777;
            font-size: 0.9rem;
        }
        
        .order-details {
            display: flex;
            justify-content: space-between;
        }
        
        .order-items {
            flex: 1;
        }
        
        .order-status {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-preparing {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .status-ready {
            background: #d4edda;
            color: #155724;
        }
        
        .status-completed {
            background: #e2e3e5;
            color: #383d41;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            background: #4CAF50;
            color: white;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: translateX(150%);
            transition: transform 0.3s;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            background: #f44336;
        }
        
        .chef-controls {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid #e9ecef;
        }
        
        .status-btn {
            padding: 0.5rem 1rem;
            margin-right: 0.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .share-section {
            margin-top: 2rem;
            text-align: center;
            padding: 1.5rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .share-input-container {
            display: flex;
            margin: 1rem 0;
        }
        
        .share-input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px 0 0 5px;
            font-size: 1rem;
        }
        
        .share-btn {
            padding: 0.8rem 1.5rem;
            background: #2575fc;
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }
        
        .share-btn:hover {
            background: #1c68e3;
        }
        
        .room-info {
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        .deploy-info {
            margin-top: 2rem;
            padding: 1.5rem;
            background: #e7f3ff;
            border-radius: 10px;
            border-left: 4px solid #2575fc;
        }
        
        .github-steps {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: #f0f0f0;
            border-radius: 10px;
        }
        
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem;
            color: #777;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .menu-items {
                grid-template-columns: 1fr;
            }
            
            .share-input-container {
                flex-direction: column;
            }
            
            .share-input {
                border-radius: 5px;
                margin-bottom: 0.5rem;
            }
            
            .share-btn {
                border-radius: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>家庭共享点餐系统</h1>
            <p class="subtitle" id="room-subtitle">全家人一起点餐，厨师实时查看订单</p>
        </header>
        
        <div class="user-selection">
            <p>请选择您的身份：</p>
            <button class="user-btn active" data-user="爸爸">爸爸</button>
            <button class="user-btn" data-user="妈妈">妈妈</button>
            <button class="user-btn" data-user="小明">小明</button>
            <button class="user-btn" data-user="小红">小红</button>
            <button class="user-btn chef-btn" data-user="厨师">厨师视图</button>
            
            <div class="add-user-form">
                <input type="text" class="add-user-input" placeholder="添加新成员名称">
                <button class="add-user-btn">添加</button>
            </div>
        </div>
        
        <div class="main-content">
            <section class="menu-section">
                <h2 class="section-title">今日菜单</h2>
                
                <div class="menu-category">
                    <h3 class="category-title">主食</h3>
                    <div class="menu-items">
                        <div class="menu-item">
                            <div class="item-name">红烧牛肉面</div>
                            <div class="item-description">香浓牛肉汤配手工面条</div>
                            <div class="item-price">¥28</div>
                            <button class="order-btn" data-item="红烧牛肉面" data-price="28">点餐</button>
                        </div>
                        <div class="menu-item">
                            <div class="item-name">扬州炒饭</div>
                            <div class="item-description">虾仁、火腿、蔬菜炒饭</div>
                            <div class="item-price">¥22</div>
                            <button class="order-btn" data-item="扬州炒饭" data-price="22">点餐</button>
                        </div>
                        <div class="menu-item">
                            <div class="item-name">三鲜水饺</div>
                            <div class="item-description">猪肉、虾仁、韭菜馅</div>
                            <div class="item-price">¥20</div>
                            <button class="order-btn" data-item="三鲜水饺" data-price="20">点餐</button>
                        </div>
                    </div>
                </div>
                
                <div class="menu-category">
                    <h3 class="category-title">热菜</h3>
                    <div class="menu-items">
                        <div class="menu-item">
                            <div class="item-name">宫保鸡丁</div>
                            <div class="item-description">香辣口味，配花生</div>
                            <div class="item-price">¥35</div>
                            <button class="order-btn" data-item="宫保鸡丁" data-price="35">点餐</button>
                        </div>
                        <div class="menu-item">
                            <div class="item-name">麻婆豆腐</div>
                            <div class="item-description">麻辣鲜香，下饭佳品</div>
                            <div class="item-price">¥25</div>
                            <button class="order-btn" data-item="麻婆豆腐" data-price="25">点餐</button>
                        </div>
                        <div class="menu-item">
                            <div class="item-name">糖醋里脊</div>
                            <div class="item-description">酸甜可口，外酥里嫩</div>
                            <div class="item-price">¥38</div>
                            <button class="order-btn" data-item="糖醋里脊" data-price="38">点餐</button>
                        </div>
                    </div>
                </div>
                
                <div class="menu-category">
                    <h3 class="category-title">汤品</h3>
                    <div class="menu-items">
                        <div class="menu-item">
                            <div class="item-name">西红柿鸡蛋汤</div>
                            <div class="item-description">家常口味，清淡爽口</div>
                            <div class="item-price">¥15</div>
                            <button class="order-btn" data-item="西红柿鸡蛋汤" data-price="15">点餐</button>
                        </div>
                        <div class="menu-item">
                            <div class="item-name">酸辣汤</div>
                            <div class="item-description">酸辣开胃，配料丰富</div>
                            <div class="item-price">¥18</div>
                            <button class="order-btn" data-item="酸辣汤" data-price="18">点餐</button>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="orders-section">
                <h2 class="section-title">实时订单</h2>
                <div class="orders-list" id="orders-list">
                    <!-- 订单将通过JavaScript动态添加 -->
                </div>
                
                <div class="chef-controls" id="chef-controls" style="display: none;">
                    <h3>厨师控制面板</h3>
                    <p>选择订单更新状态：</p>
                    <button class="status-btn status-pending">标记为待处理</button>
                    <button class="status-btn status-preparing">标记为制作中</button>
                    <button class="status-btn status-ready">标记为已完成</button>
                </div>
            </section>
        </div>
        
        <div class="share-section">
            <h2>分享点餐链接</h2>
            <p>将以下链接分享给家人，他们可以加入点餐：</p>
            <div class="share-input-container">
                <input type="text" class="share-input" id="share-input" readonly value="正在生成链接...">
                <button class="share-btn" id="copy-link-btn">复制链接</button>
            </div>
            <div class="room-info">
                <p>房间ID: <span id="room-id-display">加载中...</span></p>
                <p>当前在线成员: <span id="online-users">1</span></p>
            </div>
        </div>
        
        <div class="deploy-info">
            <h3>GitHub Pages部署指南</h3>
            <p>按照以下步骤部署到GitHub Pages，实现真正的跨设备共享：</p>
            <div class="github-steps">
                <h4>步骤1：创建GitHub账户</h4>
                <p>访问 <a href="https://github.com" target="_blank">GitHub官网</a> 注册账户</p>
                
                <h4>步骤2：创建新仓库</h4>
                <p>点击右上角"+" → "New repository" → 命名为"family-ordering-system"</p>
                
                <h4>步骤3：上传代码</h4>
                <p>在仓库页面点击"Add file" → "Upload files" → 上传此HTML文件</p>
                
                <h4>步骤4：启用GitHub Pages</h4>
                <p>在仓库设置中点击"Pages" → 选择"Deploy from a branch" → 分支选择"main"</p>
                
                <h4>步骤5：分享链接</h4>
                <p>几分钟后，您的网站将在 <strong>https://您的用户名.github.io/family-ordering-system</strong> 上线</p>
            </div>
        </div>
        
        <footer>
            <p>家庭共享点餐系统 &copy; 2023 - 部署到GitHub Pages后即可实现跨设备共享</p>
        </footer>
    </div>
    
    <div class="notification" id="notification">点餐成功！</div>
    
    <script>
        // 当前用户和订单数据
        let currentUser = '爸爸';
        let orders = [];
        let roomId = null;
        let onlineUsers = new Set();
        
        // DOM 元素
        const userButtons = document.querySelectorAll('.user-btn');
        const orderButtons = document.querySelectorAll('.order-btn');
        const ordersList = document.getElementById('orders-list');
        const chefControls = document.getElementById('chef-controls');
        const notification = document.getElementById('notification');
        const statusButtons = document.querySelectorAll('.status-btn');
        const shareInput = document.getElementById('share-input');
        const copyLinkBtn = document.getElementById('copy-link-btn');
        const roomIdDisplay = document.getElementById('room-id-display');
        const onlineUsersDisplay = document.getElementById('online-users');
        const addUserInput = document.querySelector('.add-user-input');
        const addUserBtn = document.querySelector('.add-user-btn');
        const roomSubtitle = document.getElementById('room-subtitle');
        
        // 初始化函数
        function init() {
            // 从URL获取房间ID或生成新房间ID
            const urlParams = new URLSearchParams(window.location.search);
            roomId = urlParams.get('room') || generateRoomId();
            
            // 更新URL显示房间ID
            if (!urlParams.get('room')) {
                const newUrl = `${window.location.origin}${window.location.pathname}?room=${roomId}`;
                window.history.replaceState({}, '', newUrl);
            }
            
            // 更新显示
            shareInput.value = window.location.href;
            roomIdDisplay.textContent = roomId;
            roomSubtitle.textContent = `房间: ${roomId} - 全家人一起点餐，厨师实时查看订单`;
            
            // 从本地存储加载订单数据
            loadOrders();
            
            // 添加当前用户到在线用户列表
            addOnlineUser(currentUser);
            
            // 设置定期保存和同步
            setInterval(saveOrders, 2000);
            setInterval(checkForUpdates, 1000);
            
            // 初始化事件监听
            setupEventListeners();
            
            // 显示初始通知
            showNotification(`已加入房间: ${roomId}`, 3000);
        }
        
        // 生成随机房间ID
        function generateRoomId() {
            return Math.random().toString(36).substring(2, 8).toUpperCase();
        }
        
        // 从本地存储加载订单
        function loadOrders() {
            const savedOrders = localStorage.getItem(`familyOrders_${roomId}`);
            if (savedOrders) {
                orders = JSON.parse(savedOrders);
            } else {
                // 如果没有保存的订单，添加一些示例订单
                orders = [
                    {
                        id: 1,
                        user: '妈妈',
                        item: '红烧牛肉面',
                        price: '28',
                        time: '10:30',
                        status: 'preparing'
                    },
                    {
                        id: 2,
                        user: '小明',
                        item: '扬州炒饭',
                        price: '22',
                        time: '10:32',
                        status: 'pending'
                    }
                ];
                saveOrders();
            }
            
            // 加载在线用户
            const savedUsers = localStorage.getItem(`onlineUsers_${roomId}`);
            if (savedUsers) {
                onlineUsers = new Set(JSON.parse(savedUsers));
                updateOnlineUsersDisplay();
            }
            
            updateOrdersDisplay();
        }
        
        // 保存订单到本地存储
        function saveOrders() {
            localStorage.setItem(`familyOrders_${roomId}`, JSON.stringify(orders));
            localStorage.setItem(`onlineUsers_${roomId}`, JSON.stringify([...onlineUsers]));
        }
        
        // 检查更新
        function checkForUpdates() {
            // 检查订单是否有更新
            const savedOrders = localStorage.getItem(`familyOrders_${roomId}`);
            if (savedOrders) {
                const parsedOrders = JSON.parse(savedOrders);
                if (JSON.stringify(parsedOrders) !== JSON.stringify(orders)) {
                    orders = parsedOrders;
                    updateOrdersDisplay();
                }
            }
            
            // 检查在线用户是否有更新
            const savedUsers = localStorage.getItem(`onlineUsers_${roomId}`);
            if (savedUsers) {
                const parsedUsers = new Set(JSON.parse(savedUsers));
                if (JSON.stringify([...parsedUsers]) !== JSON.stringify([...onlineUsers])) {
                    onlineUsers = parsedUsers;
                    updateOnlineUsersDisplay();
                }
            }
        }
        
        // 添加在线用户
        function addOnlineUser(user) {
            onlineUsers.add(user);
            saveOrders();
            updateOnlineUsersDisplay();
        }
        
        // 更新在线用户显示
        function updateOnlineUsersDisplay() {
            onlineUsersDisplay.textContent = onlineUsers.size;
        }
        
        // 设置事件监听
        function setupEventListeners() {
            // 用户选择
            userButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // 移除所有按钮的active类
                    userButtons.forEach(btn => btn.classList.remove('active'));
                    // 为当前按钮添加active类
                    button.classList.add('active');
                    // 更新当前用户
                    currentUser = button.getAttribute('data-user');
                    
                    // 添加用户到在线列表
                    addOnlineUser(currentUser);
                    
                    // 如果是厨师视图，显示厨师控制面板
                    if (currentUser === '厨师') {
                        chefControls.style.display = 'block';
                    } else {
                        chefControls.style.display = 'none';
                    }
                    
                    // 更新订单显示
                    updateOrdersDisplay();
                });
            });
            
            // 添加新用户
            addUserBtn.addEventListener('click', () => {
                const newUserName = addUserInput.value.trim();
                if (newUserName && !document.querySelector(`[data-user="${newUserName}"]`)) {
                    // 创建新用户按钮
                    const newUserBtn = document.createElement('button');
                    newUserBtn.className = 'user-btn';
                    newUserBtn.setAttribute('data-user', newUserName);
                    newUserBtn.textContent = newUserName;
                    
                    // 插入到最后一个用户按钮之后
                    const lastUserBtn = document.querySelector('.user-selection .user-btn:last-child');
                    lastUserBtn.parentNode.insertBefore(newUserBtn, lastUserBtn.nextSibling);
                    
                    // 添加点击事件
                    newUserBtn.addEventListener('click', () => {
                        userButtons.forEach(btn => btn.classList.remove('active'));
                        newUserBtn.classList.add('active');
                        currentUser = newUserName;
                        addOnlineUser(currentUser);
                        updateOrdersDisplay();
                    });
                    
                    addUserInput.value = '';
                    showNotification(`已添加用户: ${newUserName}`);
                } else if (newUserName) {
                    showNotification(`用户 "${newUserName}" 已存在`, 3000, true);
                }
            });
            
            // 点餐按钮
            orderButtons.forEach(button => {
                button.addEventListener('click', () => {
                    if (currentUser === '厨师') {
                        showNotification('厨师不能点餐，请切换为家庭成员身份', 3000, true);
                        return;
                    }
                    
                    const itemName = button.getAttribute('data-item');
                    const itemPrice = button.getAttribute('data-price');
                    
                    // 创建新订单
                    const newOrder = {
                        id: Date.now(), // 使用时间戳作为简单ID
                        user: currentUser,
                        item: itemName,
                        price: itemPrice,
                        time: new Date().toLocaleTimeString('zh-CN', { 
                            hour: '2-digit', 
                            minute: '2-digit' 
                        }),
                        status: 'pending'
                    };
                    
                    // 添加到订单列表
                    orders.push(newOrder);
                    
                    // 保存并更新显示
                    saveOrders();
                    updateOrdersDisplay();
                    
                    // 显示通知
                    showNotification(`成功点餐：${itemName}`);
                });
            });
            
            // 复制链接按钮
            copyLinkBtn.addEventListener('click', () => {
                shareInput.select();
                shareInput.setSelectionRange(0, 99999); // 移动设备支持
                
                try {
                    navigator.clipboard.writeText(shareInput.value).then(() => {
                        showNotification('链接已复制到剪贴板');
                    }).catch(() => {
                        // 备用方法
                        document.execCommand('copy');
                        showNotification('链接已复制到剪贴板');
                    });
                } catch (err) {
                    // 最终备用方法
                    document.execCommand('copy');
                    showNotification('链接已复制到剪贴板');
                }
            });
            
            // 厨师控制功能
            statusButtons.forEach(button => {
                button.addEventListener('click', () => {
                    if (currentUser !== '厨师') return;
                    
                    // 获取状态文本
                    let status = 'pending';
                    if (button.classList.contains('status-preparing')) {
                        status = 'preparing';
                    } else if (button.classList.contains('status-ready')) {
                        status = 'ready';
                    } else if (button.classList.contains('status-completed')) {
                        status = 'completed';
                    }
                    
                    // 如果有选中订单，更新状态
                    const selectedOrder = document.querySelector('.order-item.selected');
                    if (selectedOrder) {
                        const orderId = parseInt(selectedOrder.getAttribute('data-order-id'));
                        const orderIndex = orders.findIndex(order => order.id === orderId);
                        
                        if (orderIndex !== -1) {
                            orders[orderIndex].status = status;
                            saveOrders();
                            updateOrdersDisplay();
                            showNotification(`订单状态已更新`);
                        }
                    } else {
                        showNotification('请先选择一个订单', 3000, true);
                    }
                });
            });
            
            // 添加订单选择功能（仅供厨师使用）
            ordersList.addEventListener('click', (e) => {
                if (currentUser !== '厨师') return;
                
                const orderItem = e.target.closest('.order-item');
                if (orderItem) {
                    // 移除之前选中的订单
                    document.querySelectorAll('.order-item.selected').forEach(item => {
                        item.classList.remove('selected');
                    });
                    
                    // 选中当前订单
                    orderItem.classList.add('selected');
                }
            });
            
            // 页面可见性变化时重新加载数据
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden) {
                    loadOrders();
                }
            });
            
            // 窗口获得焦点时重新加载数据
            window.addEventListener('focus', loadOrders);
        }
        
        // 更新订单显示
        function updateOrdersDisplay() {
            // 清空当前订单列表
            ordersList.innerHTML = '';
            
            // 如果没有订单，显示提示
            if (orders.length === 0) {
                ordersList.innerHTML = '<p style="text-align: center; padding: 2rem; color: #777;">暂无订单</p>';
                return;
            }
            
            // 添加每个订单到列表
            orders.forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.className = 'order-item';
                orderElement.setAttribute('data-order-id', order.id);
                
                // 根据状态设置类名
                let statusClass = 'status-pending';
                let statusText = '待处理';
                
                if (order.status === 'preparing') {
                    statusClass = 'status-preparing';
                    statusText = '制作中';
                } else if (order.status === 'ready') {
                    statusClass = 'status-ready';
                    statusText = '已完成';
                } else if (order.status === 'completed') {
                    statusClass = 'status-completed';
                    statusText = '已送达';
                }
                
                orderElement.innerHTML = `
                    <div class="order-header">
                        <span class="order-user">${order.user}</span>
                        <span class="order-time">${order.time}</span>
                    </div>
                    <div class="order-details">
                        <div class="order-items">
                            <div>${order.item}</div>
                            <div>价格: ¥${order.price}</div>
                        </div>
                        <span class="order-status ${statusClass}">${statusText}</span>
                    </div>
                `;
                
                ordersList.appendChild(orderElement);
            });
        }
        
        // 显示通知
        function showNotification(message, duration = 3000, isError = false) {
            notification.textContent = message;
            notification.className = 'notification';
            
            if (isError) {
                notification.classList.add('error');
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, duration);
        }
        
        // 初始化应用
        init();
    </script>
</body>
</html>